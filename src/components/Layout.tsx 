import { useEffect, ReactNode } from 'react';

interface LayoutProps {
  children: ReactNode;
}

const Layout = ({ children }: LayoutProps) => {
  useEffect(() => {
    // Facebook Pixel - PageView
    if (typeof window !== 'undefined' && (window as any).fbq) {
      (window as any).fbq('track', 'PageView');
      console.log('✅ Facebook Pixel: PageView disparado');
    }

    // Google Analytics 4 - PageView
    if (typeof window !== 'undefined' && (window as any).gtag) {
      (window as any).gtag('config', 'G-XXXXXXXXXX', {
        page_path: window.location.pathname,
      });
      console.log('✅ Google Analytics: PageView disparado');
    }

    // TikTok Pixel - PageView
    if (typeof window !== 'undefined' && (window as any).ttq) {
      (window as any).ttq.page();
      console.log('✅ TikTok Pixel: PageView disparado');
    }

    // Google Tag Manager - PageView customizado
    if (typeof window !== 'undefined' && (window as any).dataLayer) {
      (window as any).dataLayer.push({
        event: 'pageview',
        page: window.location.pathname,
      });
      console.log('✅ GTM: PageView customizado disparado');
    }

  }, []);

  return (
    <main className="min-h-screen">
      {children}
    </main>
  );
};

export default Layout;
