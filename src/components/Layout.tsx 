import { useEffect, ReactNode } from 'react';

interface LayoutProps {
  children: ReactNode;
}

const Layout = ({ children }: LayoutProps) => {
  useEffect(() => {
    // ========================================
    // ðŸŽ¯ INICIALIZAÃ‡ÃƒO DE PIXELS APÃ“S CARREGAMENTO
    // ========================================
    
    // Facebook Pixel - PageView
    if (typeof window !== 'undefined' && (window as any).fbq) {
      (window as any).fbq('track', 'PageView');
      console.log('âœ… Facebook Pixel: PageView disparado');
    }

    // Google Analytics 4 - PageView
    if (typeof window !== 'undefined' && (window as any).gtag) {
      (window as any).gtag('config', 'G-XXXXXXXXXX', {
        page_path: window.location.pathname,
      });
      console.log('âœ… Google Analytics: PageView disparado');
    }

    // TikTok Pixel - PageView
    if (typeof window !== 'undefined' && (window as any).ttq) {
      (window as any).ttq.page();
      console.log('âœ… TikTok Pixel: PageView disparado');
    }

    // Google Tag Manager - PageView customizado (opcional)
    if (typeof window !== 'undefined' && (window as any).dataLayer) {
      (window as any).dataLayer.push({
        event: 'pageview',
        page: window.location.pathname,
      });
      console.log('âœ… GTM: PageView customizado disparado');
    }

  }, []); // Executa apenas uma vez quando o componente monta

  return (
    <>
      {/* 
        ========================================
        ESTRUTURA GLOBAL DO LAYOUT
        ========================================
        Aqui vocÃª pode adicionar elementos que aparecem em TODAS as pÃ¡ginas:
        - Header fixo
        - Menu de navegaÃ§Ã£o
        - Chat/Suporte flutuante
        - Cookie consent banner
      */}

      {/* ConteÃºdo Principal - Suas pÃ¡ginas serÃ£o renderizadas aqui */}
      <main className="min-h-screen">
        {children}
      </main>

      {/* 
        ========================================
        ELEMENTOS GLOBAIS DE RODAPÃ‰ (OPCIONAL)
        ========================================
        Se vocÃª quiser um footer em TODAS as pÃ¡ginas, adicione aqui.
        Caso contrÃ¡rio, deixe cada pÃ¡gina com seu prÃ³prio footer.
      */}
    </>
  );
};

export default Layout;